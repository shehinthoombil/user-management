<%- include('../layouts/header') %>

<div class="login-page">
    <div class="form">   

        <h1>Admin Login</h1>

        <% if (typeof message !== 'undefined') { %>
          <div class="alert alert-primary text-center" id="errorDisplay">
            <%= message %>
          </div>
        <% } %>

        <form action="/admin" method="POST"  id="myForm">
            <div class="mb-3">
                <input type="email" class="form-control" name="email" placeholder="Enter Email" id="email">
            </div>
            <div class="mb-3">
                <input type="password" class="form-control" name="password" placeholder="Enter password" id="password">
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
        </form>
        <br>
        <a href="/admin/forget">Forget Password</a>
    </div>    
</div>





<!-- <div class="login-page">
    <div class="form">
  
      <h2 class="head">ADMIN LOGIN</h2>
  
      <%
  
      if(typeof message !== 'undefined'){
        %>
          <h4 style="color:red"><%= message %></h4>
        <%
      }
      
      %>
  
      <form action="" method="post" class="login-form" onsubmit="return validateForm()">
        <div class="input-container">
          <input type="email" name="email" placeholder="Enter your email" id="email">
          <p id="email-error" class="error-message"></p>
        </div>
        <div class="input-container">
          <input type="password" name="password" placeholder="Enter your password" id="password">
          <p id="password-error" class="error-message"></p>
        </div>
        <button type="submit" value="Login">Login</button>
      </form>
    </div>
  </div> -->

<script>const form = document.getElementById('myForm');
  const email = document.getElementById('email');
  const password = document.getElementById('password');
  const errorDisplay = document.getElementById('errorDisplay'); 

  form.addEventListener('submit', (event) => {
      let hasError = false;

      if (!email.value || !password.value) {
          hasError = true;
          errorDisplay.innerHTML = "All fields are required";
      } else if (!email.value.match(/^[A-Za-z\._\-0-9]*[@][A-Za-z]*[\.][a-z]{2,4}$/)) {
          hasError = true;
          errorDisplay.innerHTML = "Please enter a valid email.";
      } else if (password.value.length < 5) {
          hasError = true;
          errorDisplay.innerHTML = "Password must contain atleast 6 characters";
      }

      if (hasError) {
          event.preventDefault();
      }

  });</script>
<%- include('../layouts/footer') %>